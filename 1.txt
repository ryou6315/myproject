import os
import re

# 処理対象のディレクトリを指定
input_dir = "target_directory"  # 処理するディレクトリのパス

# 置換用の正規表現パターン
pattern1 = re.compile(r"^   ")  # 行頭のスペース3つ
pattern2 = re.compile(r"\r\n")  # \r\n を探すパターン
pattern3 = re.compile(r"aa")  # "aa" を探すパターン

# ディレクトリ内のすべてのファイルを処理
for root, _, files in os.walk(input_dir):
    for file in files:
        file_path = os.path.join(root, file)

        # ファイルを読み込む
        with open(file_path, "r", encoding="utf-8") as f:
            content = f.read()

        # 正規表現に基づいて内容を置換
        content = pattern1.sub("", content)  # "^   " を "" に置換
        content = pattern2.sub("\n", content)  # "\r\n" を "\n" に置換
        content = pattern3.sub("bb", content)  # "aa" を "bb" に置換

        # 修正後の内容を元のファイルに書き戻す
        with open(file_path, "w", encoding="utf-8") as f:
            f.write(content)

        print(f"置換完了: {file_path}")

print("すべてのファイルの置換が完了しました！")
