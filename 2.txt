from scapy.all import IP, ICMP, sr1

def get_first_hops(dest, hops=3):
    for ttl in range(1, hops+1):
        pkt = IP(dst=dest, ttl=ttl) / ICMP()
        reply = sr1(pkt, timeout=2, verbose=0)
        if reply:
            print(f"Hop {ttl}: {reply.src}")
        else:
            print(f"Hop {ttl}: *")

get_first_hops("8.8.8.8")
